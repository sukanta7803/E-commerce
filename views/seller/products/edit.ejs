<%- include('../../partials/header') %>

<div class="container">
    <div class="admin-page">
        <div class="admin-content">
            <div class="admin-header">
                <h1>Edit Product</h1>
                <a href="/seller/products" class="btn btn-secondary">Back to Products</a>
            </div>

            <% if (typeof error !== 'undefined' && error) { %>
                <div class="alert alert-error">
                    <%= error %>
                </div>
            <% } %>

            <div class="admin-form">
                <form action="/seller/products/<%= product._id %>" method="POST">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Product Name *</label>
                            <input type="text" id="name" name="name" required value="<%= product.name %>">
                        </div>
                        <div class="form-group">
                            <label for="slug">Slug *</label>
                            <input type="text" id="slug" name="slug" required value="<%= product.slug %>">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="description">Description *</label>
                        <textarea id="description" name="description" rows="4" required><%= product.description %></textarea>
                    </div>

                    <div class="form-group">
                        <label for="shortDescription">Short Description</label>
                        <textarea id="shortDescription" name="shortDescription" rows="2"><%= product.shortDescription %></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="price">Price ($) *</label>
                            <input type="number" id="price" name="price" step="0.01" min="0" required value="<%= product.price %>">
                        </div>
                        <div class="form-group">
                            <label for="salePrice">Sale Price ($)</label>
                            <input type="number" id="salePrice" name="salePrice" step="0.01" min="0" value="<%= product.salePrice || '' %>">
                        </div>
                    </div>

                    <div class="form-row">
                        <!-- <div class="form-group">
                            <label for="sku">SKU *</label>
                            <input type="text" id="sku" name="sku" required value="<%= product.sku %>">
                        </div> -->
                        <div class="form-group">
                            <label for="stock">Stock Quantity *</label>
                            <input type="number" id="stock" name="stock" min="0" required value="<%= product.stock %>">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="brand">Brand</label>
                        <input type="text" id="brand" name="brand" value="<%= product.brand || '' %>">
                    </div>

                    <div class="form-group">
                        <label for="tags">Tags (comma separated)</label>
                        <input type="text" id="tags" name="tags" value="<%= product.tags.join(', ') %>">
                    </div>

                    <div class="form-group">
                        <label for="images">Image URLs (one per line) *</label>
                        <textarea id="images" name="images" rows="4" required><%= product.images.map(img => img.url).join('\n') %></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>
                                <input type="checkbox" name="isActive" <%= product.isActive ? 'checked' : '' %>>
                                Active Product
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" name="isFeatured" <%= product.isFeatured ? 'checked' : '' %>>
                                Featured Product
                            </label>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Update Product</button>
                        <a href="/seller/products" class="btn btn-secondary">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<%- include('../../partials/footer') %>